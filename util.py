from fixedpoint import FixedPoint


def genformat(n):
    return {'signed': True, 'm': 1, 'n': n-1, 'overflow': 'wrap'}


def geniformat(n):
    return {'signed': True, 'm': n, 'n': 0, 'overflow': 'wrap'}


def fp_print(x):
    if x.n == 0:
        print(f'{bin(x):<{len(x) + 2}} {int(x)}')
    else:
        print(f'{bin(x):<{len(x) + 2}} {float(x)}')


def odd(fp):
    while int(fp) % 2 != 1:
        fp = fp >> 1
    return fp

def pos(fp):
    return abs(fp)


if __name__ == '__main__':
    qformat = geniformat(24)
    for i in ['111111000101110100111010', '111011100011110001001010', '111111110111100000100000',
             '000000011110010100000011', '000001110111100111111000', '000001111100001010010010',
             '000000100000001000001100', '111110001000110111011101', '111100011010011110100010',
             '111100111111010100011111', '000000101011010111011000', '000110101110111000110101',
             '001101000010101010000111', '010001000011011001101010', '010001000011011001101010',
             '001101000010101010000111', '000110101110111000110101', '000000101011010111011000',
             '111100111111010100011111', '111100011010011110100010', '111110001000110111011101',
             '000000100000001000001100', '000001111100001010010010', '000001110111100111111000',
             '000000011110010100000011', '111111110111100000100000', '111011100011110001001010',
             '111111000101110100111010']:
        x = FixedPoint(f'0b{i}', **qformat)
        fp_print(x)


    print()
    for i in ['100000000000000000001111']:
        x = FixedPoint(f'0b{i}', **qformat)
        fp_print(x)

    print()
    for i in ['100000000000000000000111', '100000000000000000001011']:
        x = FixedPoint(f'0b{i}', **qformat)
        fp_print(x)

    qformat = genformat(4)
    for i in ['1111']:
        x = FixedPoint(f'0b{i}', **qformat)
        fp_print(x)
